### Banco de Dados SQL
#### Curso em Video, professor Gustavo Guanabara
---
* Os Comandos SQL estarão em letras **MAIUSCULAS**.
* Estudo realizado utilizando **MySQL** & **SQLServer**
* SQL Server sp_columns para ver os Tipos
* <span style='color: red'> testando cor azul </span>

AULA | TEMPO | LINK | O QUE ENSINOU
:---:|:---:|:---|:---
01 | 22:27 | [O que é um Banco de Dados?](https://www.youtube.com/watch?v=Ofktsne-utM&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r) | História.
02 | 23:45 | [Instalando o MySQL com WAMP](https://www.youtube.com/watch?v=5JbAOWJbgIA&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=2) | **DDL** - Definição - CREATE DATABASE, CREATE TABLE, ALTER TABLE, DROP TABLE <br> **DML** - Manipulação - INSERT INTO, UPDATE, DELETE, TRUNCATE <br> **DQL** - Solicitação - SELECT <br> **DCL** - Controle <br> **DTL** - Transação
03 | 27:54 | [Criando o primeiro Banco de Dados](https://www.youtube.com/watch?v=m9YPlX0fcJk&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=4) | **Banco de Daods** são conjuntos de **Tabelas**, que armazenam **Registros**. <br> **`CREATE DATABASE cadastro`** - Cria o Banco de Dados. <br> **`USE cadastro`** - Ativa o DataBase para uso. <br>**`CREATE TABLE pessoas (`** - Cria uma nova Tabela <br> `nome VARCHAR(15),` <br> `altura FLOAT` <br> `)` 
04 | 27:28 | [Melhorando a Estrutura do Banco de Dados](https://www.youtube.com/watch?v=cHLKtALWDos&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=5) | **`DROP DATABASE cadastro`** - Apaga um Banco de dados <br> `CREATE DATABASE cadastro` <br> **`DEFAULT CHARACTER SET utf8`** - Só funciona no MySQL<br> **`DEFAULT COLLATE utf8_general_ci`** <br> ------------------------------------ <br> **CONSTRAINTS** <br> **`nascimento DATE`** - Dia, mes e ano <br> **`sexo ENUM('M', 'F')`** - Só aceita o M e F. Aparece o checkbox <br> **`peso DECIMAL(5,2)`** - Total de 5 casas sendo que duas são depois da virgula <br> **`nacionalidade varchar(30) DEFAULT 'Brasil'`** - Se não escrever nada, o padrão é 'Brasil' <br> **`id INT NOT NULL AUTO_INCREMENT`** - Em **MySQL** <br> **`id INT NOT NULL IDENTITY`** - Em **SQLServer** <br> **`PRIMARY KEY (id)`** - Dentro do Create.
05 | 25:42 | [Inserindo Dados na Tabela (INSERT INTO)](https://www.youtube.com/watch?v=NCG9niOlm40&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=7) | _VARCHAR(30)_ - Ele usa até 30 caracteres. Se usar menos, ele descarta o restante. <br> _CHAR(30)_ - Utiliza todos os 30 caracteres. <br> _2020-05-04_ - Formato de SQL (ano-mes-dia) <br> Tudo entre '' é considerado _DADO_. <br> **`INSERT INTO pessoas (nome, idade...) VALUES ('Godofredo', '2020-05-04'...)`** - Inserir na tabela, os valores. <br> _Boa Prática:_ Nunca omitir os campos da tabela na hora de inserir.
06 | 30:58 | [Alterando a Estrutura da Tabela (ALTER TABLE e DROP TABLE)](https://www.youtube.com/watch?v=To9qUcEMuY0&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=8) | **`describe/desc pessoas`** - Informações da Tabela em **MySQL** <br> **`sp_columns pessoas`** - Informaçoes da Tabela em **SQLServer** <br> **`ALTER TABLE pessoas ADD COLUMN profissao varchar(10)`** - Adiciona um novo campo **MySQL** <br> **`ALTER TABLE pessoas ADD profissao varchar(10)`** - Adiciona um novo campo **SQLServer** <br> **`ALTER TABLE pessoas DROP COLUMN profissao`** - Apaga um Campo da tabela. <br> **`ALTER TABLE pessoas ADD COLUMN profissao AFTER nome`** - Adiciona o novo campo após outro. Só em **MySQL** <br> **`ALTER TABLE pessoas MODIFY COLUMN profissao VARCHER(30)`** - Altera o campo. **MySQL** <br> **`ALTER TABLE pessoas ALTER COLUMN prodfissao VARCHAR(30)`** - Altera o campo **SQLServer** <br> **`ALTER TABLE pessoas CHANGE COLUMN profissao prof VARCHAR(30)`** - Renomeia o Campo **MySQL**. Em SqlServer nao tem. <br> **`ALTER TABLE pessoas RENAME TO nomeTabela`** - Renomear a Tabela <br> **`CREATE TABLE IF NOT EXISTS tabela (...)`** <br> **UNIQUE**: Somente um nome  <br> **`ALTER TABLE cursos ADD PRIMARY KEY(idcurso)`** - Adiciona a chave primária. **MySQL** <br> **`DROP TABLE tabela`**
07 | 27:00 | [Manipulando Linhas (UPDATE, DELETE e TRUNCATE)](https://www.youtube.com/watch?v=wXViczeTr6Q&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=9) | _Alter Table_ : Manipula colunas <br> _Update_ : Manipula linhas/tuplas <br> **`UPDATE cursos SET nome = 'HTML5' WHERE idcurso = 1`** - Altera a linha de uma Tabela **MySQL** & **SQLServer** <br> `LIMIT 1` - Afeta n linhas. **MySQL** <br> **`DELETE FROM cursos WHERE idcurso = '8'`** - Apaga todos os DADOS da Linha da Tabela **MySQL** & **SQLServer** <br> **`TRUNCATE TABLE cursos`** - Apaga TODOS os dados da Tabela
08 | 17:37 | [Gerenciando Cópias de Segurança MySQL](https://www.youtube.com/watch?v=w6OYS_M7hTM&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=10) | _Como Exportar Dados no MySQL_: <br> _Server_ <br> _Data Export_ <br> _Selecionar Banco de Dados e Tebelas_ <br> **DUMP** - Copia do banco de Dados
09 | 18:58 | [PHPMyAdmin (Parte 1)](https://www.youtube.com/watch?v=OaPMvrA0cA4&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=11) | 
10 | 29:22 | [PHPMyAdmin (Parte 2)](https://www.youtube.com/watch?v=EC_1ZtXsUtA&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=12) | 
11 | 34:30 | [SELECT (Parte 1)](https://www.youtube.com/watch?v=GaOlyL3Uv9M&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=13) | **`SELECT * FROM cursos ORDER BY nome`** - Ordenar por nome <br> `asc` - Crescente <br> `desc` - Decrescente <br> **`WHERE ano = '2020'`** - Filtra as linhas (Condição) <br> **`between '2018' and '2020'`** - Entre 2018 e 2020. <br> **`WHERE ano IN ('2018', '2020')`** - Só os anos de 2018 e 2020 <br> 
12 | 38:13 | [SELECT (Parte 2)](https://www.youtube.com/watch?v=q4hPo83-Buo&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=14) | **`WHERE nome like 'P%'`** - **MySQL** & **SQLServer** <br> **`SELECT DISTINCT nacionalidade FROM pessoas`** - Não mostra nomes repetidos, só DISTINTOS. <br> **FUNÇÕES DE AGREGAÇÃO:** <br> **`SELECT COUNT(*) FROM pessoas`** - Contador <br> **`SELECT MAX(carga) FROM cursos`** - Retorna o Maior Valor <br> **`SELECT MIN(carga) FROM cursos`** - Retorna o Menor Valor <br> **`SELECT SUM(carga) FROM cursos`** - Somatório <br> **`SELECT AVG(totaulas) FROM cursos`** - Média
13 | 29:10 | [SELECT (Parte 3)](https://www.youtube.com/watch?v=ocyVJ9gRUaE&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=15) | _Distinct <> Group By_ <br> **`SELECT carga, COUNT(nome) FROM cursos GROUP BY carga`** - Agrupa os semelhantes **MySQL** & **SQLServer**<br> **`SELECT carga, COUNT(nome) FROM cursos GROUP BY carga HAVING COUNT(nome) > 3`**
14 | 40:26 | [Modelo Relacional](https://www.youtube.com/watch?v=8fxKJWJcRTw&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=16) | _ENTIDADE -> ATRIBUTO -> RELACIONAMENTO_ <br> _CARDINALIDADE:_ <br> **1 pra 1** = pegar chave primaria de um, para o _dominante_ (os tipos tem que ser o mesmo) <br> **1 pra n** = Sempre chave do lado _n_ pra _1_ <br> **n pra n** = O relacionamento vira Entidade, e das Entidades cria dois novos Relacionamentos _1 pra n_. As chaves primarias vao pra nova Entidade com o Estrangeiras
15 | 40:44 | [Chaves Estrangeiras e JOIN](https://www.youtube.com/watch?v=paZNDJAPT4E&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=17) | `A`tomica: Ou toda tarefa é feita, ou nada é considerado<br> `C`onsistência: Antes da transaçao, BD estava OK, depois tem que ta OK <br> `I`solamento: Duas transições simultaneas nao interferam uma na outra <br> `D`urabilidade: Qualquer alteração tem que ser duravel, o quanto precisar desse dado. Não pode apagar do nada. <br> **`ALTER TABLE pessoas ADD FOREIGN KEY (cursopreferido) REFERENCES cursos (idcurso)`** - Adiciona uma _Foreign Key_ na tabela Pessoas, referenciada com a ID primaria de Cursos - Integridade Referencial com a _Foreign Key_ <br> **`SELECT p.nome, p.cursopreferido, c.nome, c.ano`** - **MySQL** & **SQLServer** <br> **`FROM pessoas as p JOIN cursos as c`** - **'as'** = Alias(apelido) - **JOIN** = Junção <br> **`ON idcurso = cursopreferido`** - **ON** - Chaves Primária e estrangeira <br> **INNER JOIN = JOIN** - **MEIO** - Pega os que tem ligação Foreign key - Primary Key <br> **LEFT OUTER JOIN** - **ESQUERDA** - Pega TUDO, mostrando o lado esquerdo. <br> **RIGHT OUTER JOIN** - **DIREITA** - Pega TUDO, mostrando o lado direito <br> **`as`** - Apelido <br> 
16 | 28:03 | [INNER JOIN com várias tabelas](https://www.youtube.com/watch?v=jx2ne8iZMOA&list=PLHz_AreHm4dkBs-795Dsgvau_ekxg8g1r&index=18) | **n pra n** - Cria uma nova tabela com a foreign key das outras duas tabelas. <br> **`SELECT p.nome, c.nome FROM pessoas as p`** <br> **`JOIN pessoas_assistem_cursos as a`** <br> **`ON p.id = a.idpessoas`** <br> **`JOIN cursos as c`** <br> **`ON c.idcurso = a.idcurso`** <br> **`ORDER BY p.nome`**
